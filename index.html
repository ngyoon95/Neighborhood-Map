<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content="Udacity Neighborhood Map Project">
    <meta name="author" content="NgYoonWah">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title>Shopping Malls in Klang Valley</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:100,300">

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <!--  Incorporate a Simple Sidebar (http://startbootstrap.com/) into styles.css -->
    <link href="css/styles.css" rel="stylesheet">
  </head>

  <body>
    <!-- Side Menu -->
    <aside>
      <!--Observable that toggles CSS class on Side Menu Hide/Show-->
      <div id="wrapper" data-bind="css: { 'toggled': visibleMenu }">
        <!-- Sidebar -->
        <div id="sidebar-wrapper">
          <ul class="sidebar-nav">
            <li class="sidebar-brand">
              <h3>SHOPPING MALLS</h3>
              <h4>List of Malls in Klang Valley area.</h4>
            </li>
          </ul>  

          <!--Search Buttons -->
          <div class="input-group">    
            <div class="row">
            <div class="col-md-12 col-md-offset-1 search-area" id="search-area">
              <hr>
                <input class="search-box" placeholder="Filter Shopping Mall.." type="text" data-bind="textInput: searchBox">
                <!--Show list of pre-define locations and filter against the results from search -->
                <ul class="resultsList" data-bind="foreach: search">
                  <li class="location-item" data-bind="text: title, click: $root.clickEventHandlerFunction"></li>
                </ul>   
            </div>
            </div>
          </div>
          <hr>               
                
          <div class="reset-container">
            <button id="reset" class="btn btn-default" data-bind="click: resetMap">Reset Map</button>
            <!-- The Menu button for side-toggle. -->
            <hr>
            <div class="hide_sidebar">
              <a href="#menu-toggle" data-bind="click: clickMe" class="btn btn-default menu-toggle" id="menu-toggle">Hide Menu</a>
            </div>  
          </div>          
        </div>
      </div>
    </aside>

    <main>
      <!--Page Content-->
      <div id="page-content-wrapper">
        <div class="container">
          <div class="content col-lg-9">
             <h2 class="navbar-heading">Shopping Malls in Klang Valley</h2>
             <!-- The button for toggle the Menu. -->
              <br><a href="#menu-toggle" data-bind="click: clickMe" class="btn btn-default menu-toggle" id="menu-toggle">Toggle Menu</a>
          </div>
        </div>
      </div>

      <!--Page Google Map-->
        <div >
          <div id="map"></div>
        </div>

      <div class="error-div-wrapper">
        <!--Observable for Google Maps Error -->
        <div class="no-map" data-bind="visible: mapUnavailable">
          <p>Sorry Google Maps is unable to load right now.<br>Please check your connection and refresh the page, or try again later.</p>
        </div>
      </div>
    </main>

    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="js/lib/bootstrap.min.js"></script>
    <!--Knockout Library-->
    <script src="js/lib/knockout-3.4.2.js"></script>
    <!--Google Maps Script-->
    <script src="js/maps.js"></script>
    <!-- Main App Script -->
    <script src="js/app.js"></script>

    <!--Google Map API-->
    <!-- Added "onerror" to trigger error handling response when Google Maps fails -->
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?libraries=places,drawing,geometry&key=AIzaSyA_23r7uOMGXey0SDhAFygCYoM6km2mCWg&v=3&callback=initMap"
            onerror="mapError()">
    </script>
  </body>
</html>
